Import('host_env', 'BUILD_DIR')

# Clone environment for stage1
stage1_env = host_env.Clone()

# Build stage1 bootloader (16-bit binary)
stage1_bin = stage1_env.Command(
    'stage1.bin',
    'boot.asm',
    'nasm -f bin -o $TARGET $SOURCE'
)

Return('stage1_bin')
